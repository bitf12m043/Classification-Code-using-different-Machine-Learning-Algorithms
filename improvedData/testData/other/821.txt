Date Tue Dec GMT Server NCSA Content type text html PDB REFERENCE MANUALPDB REFERENCE MANUAL Version HTML version David Christianson and Chung Kwok copy Copyright copy University Washington Originally written Tony Barrett Version David Christianson Version Chung Kwok This research was funded part Office Naval Research Grants and National Science Foundation Grants IRI and IRI and donation from Apple Computer All rights reserved Use this software permitted for non commercial research purposes and may copied only for that use All copies must include this copyright message This software made available and neither the authors nor the University Washington make any warranty about the software its performance When you first acquire this software please send mail bug ucpop washington edu the same address should used for problems This document best viewed with HTML browser that supports tables Table ContentsIntroductionRunning PDBGeneral window layoutsPlanning system overviewGraphic plan space displayIndividual plan displayPDB browsersA simple exampleCustomizations and optionsKnown bugsPorting PDBIntroduction The primary function PDB allow the user schedule planning problems run the planner record the actions taken the planner and then reconstruct that information meaningful way Since UCPOP does extensive search plan space PDB focuses recording and presenting plan space search trees generated the planner PDB interactive application which makes the UCPOP planning process more accessible the user the use graphical interfaces the planning process intended used several ways Domain Construction Search Control Development Planner Modification PDB exists because the difficulty involved performing planner research without adequate visualization tools the case UCPOP users who were trying use the planner well programmers trying improve and debug the system were having wade through extensive trace information generated the planner PDB evolved way presenting this information graphical format order make these tasks easier Running PDB Recording Plans From The Lisp Listener start PDB just run pdb setup the UCPOP package start recording planning sessions use PDB RECORD pdb record key record firings nil Then invoke the UCPOP planner stop recording use PDB STOP pdb stop you use the def searchprocedure wrap around search functions all planning sessions will recorded when even the Recording toggle button the shell You can turn off the recording clicking the Recording toggle button the shell please refer the Shell window General window layoutMenu and Menubar All windows has menubar all menubars there menu labelled Windows The menu has the following items Windows Refresh Redisplays the window contents Find Displays list active subwindows Selecting window will bring the front the screen Remove all Closes all active subwindows Quit Close this window Note the Remove all item only available the shell window Commands You can click buttons objects the screen highlighted boxes The effects will discussed subsequent sections Planning system overviewThe Shell Window The first window opened PDB the Plan System Overview Window The right hand side this window maintains list recorded planning sessions while the left hand side displays the state the planner Specifying Problem order start new planning session select New Session from the Debugger menu You will then asked specify the problem you want solve and the search method use via dialog box the top left the dialog box list domains Next list problems When the item Any selected from the domain list all problems are listed otherwise this list only contains problems from the currently selected domain Once problem selected complete description the problem presented the area below the domain and problem lists Setting the Search Control Options The controls beneath the problem description allow you specify various search control options The first button selects the type search use When pushed the planner uses search control rules guide search When pushed out the planner uses specific search function the latter case the user must use the box below this button specify the search function used whereas the former case you will use this box specify search controller The other controls allow you specify whether not record the planning session whether not record search control rule firings this slows down planning considerably well the maximum number nodes search Viewing the Results Planning Once you specified the planning options and clicked the Plan button PDB calls UCPOP begin planning The Plan System Overview Window displays progress report planning and returns the results planning when done These results include short description the last plan searched which will the solution the planner was successful PDB prints plans the following manner the initial state printed first then the steps order the goal state Only the preconditions the steps are displayed Each precondition has number its left representing the step which supports that precondition the plan not complete any unsupported preconditions appear with question marks instead numbers the left while threats are identified the step number the threatening step shown the right the threatened condition Menu CommandsWindowsPlease refer General window layout Debug New Session Execute new planning problem This brings dialog window containing the following options Domain Domain take problems from Problem Problem execute Search Limit Number nodes search before stopping Search Control Yes yes you must specify controller you must specify search function Record Debugging Yes you want record this session Record Firings Yes you want record all search control rule firings slow New Browser Browse domains problems and search control Open Session Open VCR window session Delete Session Delete session that will longer appear the window Clear Session Delete all sessions All sessions will lost Options Reset Options Reads back the defaults saved plandebugrc Save Options Writes defaults out plandebugrc Plan System Overview Commands The Sessions window right shows the sessions recorded the system The PlannerStatus window left shows various information about the session selected Info Display the result the current session VCR Display trace the current session Remove Remove the current session Recording Toggle plan recording off Mouse Commands Sessions Find Window Clicking the left mouse button session will select that session Graphic plan space displayThe VCR Window VCR Windows provide the user with graphical depiction the search space explored the planner during given planning session Once the user has seleted session the Plan System Overview Window they can create VCR Window for that session either selecting New VCR Window from the Debug menu pressing the VCR button the window itself Anatomy the Search Tree Most the VCR Window taken graphical depiction the planning trace the form tree will refer this either the planning tree the search tree Each node the tree partial plan the root node plan contains only the start and goal states while each subsequent generation represents one application the UCPOP algorithm The children given node represent individual solutions refinements generated the support protection precondition The type refinement printed beneath each node Accordingly each branch the tree associated with unsupported threatened precondition known flaw which denoted label printed along the branch Figure ref tree gives breakdown these conventions The tree formatted that the left hand side the tree leads the last node encountered the planner the solution was found this will the solution path Note that the formatting algorithm puts nodes near the root the tree farther apart than nodes the leaves that sometimes you will have trouble using the VCR Window view all the children some nodes You can solve some these problems changing restricting the display various nodes the tree via the Tree and Options menus The label below nodes refers the reason for which the plan made For example the figure above PUTON means new step PUTON added means new link step added and finally The red node the currently selected node You can press the left middle button Select Node Centers the cursor over this node the cursor already this node PDB will open plan window that node Describe object Composer running PDB will open Composer window the partial plan associated with this node The green visited node node plan visited the plan refined during planning The white node unvisited node The planner has not refined the plan during planning The word CLEAR above the horizontal line represents the open condition being resolved the different siblings plans connected the line Menu CommandsWindowsPlease refer General window layoutTree Print Print the current window Asks for filename via dialog All Nodes Display all nodes the tree Steps Only Display nodes for plans with newly added steps Searched Only Display only those nodes that have been searched Solution Only Display solution node only found Solution Path Only Display nodes solution path found Expand Node Display the children the current plan Contract Node not display the children the current plan Expand Branch Display the branch rooted the current plan Contract Branch not display the branch rooted the current plan Options View Change the node picture the tree nodes one the following Order Color the nodes from dark light green depending visitation order Rank Color the nodes from dark light green depending the absolute rank Labels Label the node branches with conditions branched all Label all branches multiple Label only branches with multiple children none Don label Resize Shrink enlarge the displayed search tree constant factor VCR traversal buttons These buttons are for navigating through the plan space and visualizing the planning process Backup the VCR until stop button pressed Backup the VCR the plan visited just prior the current one Stops the VCR traversal animations Progress the VCR the next visited plan Progress the VCR until mouse button pressed Mouse Commands Plan Tree Nodes Plan Window Markers Select Window Moves the window another node This done clicking once the marker move and once the node move Individual plan displayThe Plan Window Clicking selected node produces Plan Window which provides more detailed view the plan associated with that node The upper part this window shows the parent siblings and children the current node while the lower part describes the plan that node The plan can viewed one two ways textual format the plan printed the same way that the results planning are returned UCPOP while graphic format the steps are drawn partial order from left right with lines representing links connecting effects with preconditions Navigating the Plan Window The small tree the top the Plan Window represents the immediate family the current node its parent siblings and children also allows you navigate the planning tree simply selecting any these nodes the Plan Window will immediately update itself using the node you selected the new current node Moving the Plan Window from the VCR Whenever Plan Window opened unique number assigned and drawn next the node the VCR Window which pointing You can move the Plan Window point different node just selecting this number once and then selecting the new node Menu CommandsWindowsPlease refer General window layout Plan Refine Refine the current plan Brings dialog with search options Search Limit Number nodes search before stopping Choose Flaw yes the user must select from list current flaws Search limit will set Record Firings Yes record all search control rule firings slow Print Print the current window Asks for filename via dialog Inspect Inspect the current node Options Graphics Change the representation the plan Graphics Graphical partial order view Text Textual View Verbosity Control detail representation Verbose Print out conditions and steps fully Terse Show only steps Mouse Commands Plan Tree Nodes Select Node Pressing the left button node causes the window display the plan associated with that node The navigational display updated the VCR window associated with the plan window Describe object Composer running Composer window will opened the plan associated with the selected node Plan Structures Choose Flaw Pressing the left button flaw shown red will bring plan refinement dialog with the selected flaw already chosen for refinement Clicking the left button other structures has effect Describe object Composer running Composer window will opened the structure associated with the highlighted graphic Shift Move Object Pressing Shift over step graphic display mode will let you drag the step new position This allows you view the plan more reasonable manner than the automatic layout provides History the bottom the window simple history mechanism records the nodes visited and allows one follow the path plan exploration the user the plan window the previous visited node the next visited node PDB browsersBrowser Window The PDB browser used provide organized view and uniform frontend inspect different objects related planning problems for example domains problems axioms facts operators and sessions Menu CommandsWindowsPlease refer General window layout Object Print Print the current window Inspect Inspect the current object Browser CommandsScroll the browser menus towards the top the heirarchy Scroll the browser menus towards the bottom the heirarchy Mouse Commands Select Object Clicking item one the browser menus will bring the menu associated with that item any the pane the right the selection well the object associated with that item any Simple ExampleSpecify Problem Select New Session from the Debugger menu You will then able specify the domain and problem use Try selecting the uget paid problem used the previous section Once you have done this you are ready specify the search control options Set the Search Control Options Using the New Session dialog set the search function ucpop control This the same search function used for this problem the previous example For purposes this example you not need set any the other options View the Results Planning When you click the Plan button UCPOP will begin planning The Plan System Overview window will display progress report and return the results planning when done this time you will able see the solution generated the planner Open VCR Window The session you just created should listed the Plan System Overview Window Select this session with the left button and press the VCR button This will bring VCR Window You are now able view the actual search tree explored the planner Use the VCR Window Experiment with the VCR Buttons well with scrolling the tree around using the scrollbars Open Plan Window Scroll the top left corner the tree and select the node labeled START you click this node again Plan Window will appear this case you will see that the plan has only the goal step and initial state This the first plan created the planner Now scroll down the bottom left node the solution and open new window see just how much work went into the uget paid solution the Options menu from which you can select graphical view the plan This view shows each step the plan with preconditions the left and postconditions the right Links are drawn lines between the steps These links were inserted into the plan one time each one represented branch the tree Use the Plan Window Explore the area around the START node using the Plan Window Note how much easier see the relationships between the various nodes compared the VCR Window where the whole tree being displayed once Customizations and optionsDisplay types Some the defaults used PDB are not appropriate for monochrome grayscale displays such systems PDB provides set defaults that are suitable You can define setf pdb use colors nil your Lisp startup file clinit Allegro Common Lisp anytime before loading PDB This will cause PDB adopt monochrome defaults for its windows Variables The following are some user customizable variables You can customize PDB defining function and setf pdb startup hook You can define this function your Lisp initialization file PDB will call this function when you run pdb setup For example defun pdb init function setf shell width setf plan height setf pdb startup hook pdb init function The table below lists some the variables that can set VariableDescriptionDefaultNote shell width shell height Width and height the shell window best not set these variables below the defaults vcr width vcr height Width and height the VCR window plan height plan width Width and height the plan window browser height browser width Width and height the browser window vcr show progress When drawing the VCR window window indicating drawing progress will displayed this variable set There are other variables that customize colors and fonts well Please refer the file pdb shell lisp Known bugs Some these problems are resulted from bugs CLIM implementation AllegroCL When you send bug reports please check the list below first Launching composer with many windows open could hang the server have kill the ACL process Sometimes this also happen you random click CLIM windows when composer windows are being mapped Transient window dialog boxes can sometimes disappear abort after user move the window choose flaw dialog the flaw actually appears multiple times clear clear But they both selected Can confusing Iconify and deiconify doesn work our CLIM implementation result you iconify plan window they cannot brought back automatically clicking the node intended When exiting VCR window all its children plan windows should exiting too However this behavior cannot achieved the CLIM implementation our system The shell window does not resize correctly vertically because CLIM gadget limitations Plan nodes will not highlighted boxed Num Lock Scroll Lock key Synchronization problem asking PDB display output before the window shows will fail This likely CLIM bug When the shell window refreshes the first time pressing random buttons will cause medium transformation error Just continue with the top level option ACL Help documents are slightly outdated and not very helpful PDB should ever crash you can either continue choosing one the several continue options provided your lisp system restart PDB You can simply restart issuing pdb setup again Restarting will erase all previous sessions Please also include stack trace for example using zoom Allegro and send message bug ucpop washington edu Porting PDB PDB written with flexibility mind and could adopted other partial order planners that similar UCPOP PDB has already been ported descendent UCPOP XII Work under way port PDB other partial order planners such Buridan the planner very similar UCPOP only functions specific the planner need redefined The file vcr external lisp contains the interface functions called PDB display plan components You just need redefine these functions for your planner change the PDB Lisp interpreter interface for your planner modify the file vcr interface lisp 